(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"76PZ":function(e,t,r){"use strict";r.r(t),r.d(t,"MaterialComponentsModule",function(){return er});var a=r("tyNb"),o=r("tk/3"),n=r("ofXK"),i=r("f6nW"),s=r("3Pt+"),c=r("YUcS"),l=r("mReP"),b=r("0IaG"),m=r("M9IT"),d=r("+0xr"),u=r("5+ba"),p=r("FaBU"),h=r("fXoL");let g=(()=>{class e{constructor(e){this.httpClient=e,this.url="https://cmi.tabascoweb.com/"}add(e){return this.httpClient.post(this.url+"/area/add",e,{headers:(new o.e).set("Content-Type","application/json")})}update(e){return this.httpClient.patch(this.url+"/area/update",e,{headers:(new o.e).set("Content-Type","application/json")})}getArea(){return this.httpClient.get(this.url+"/area/get")}delete(e){return this.httpClient.delete(this.url+"/area/delete/"+e,{headers:(new o.e).set("Content-Type","application/json")})}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(o.b))},e.\u0275prov=h.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=r("p20J"),v=r("/t3+"),U=r("XiUz"),V=r("kmnG"),C=r("qFsG"),D=r("bTqV");function S(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function A(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,S,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.areaForm.controls.name.errors.required)}}let q=(()=>{class e{constructor(e,t,r,a,o){this.dialogData=e,this.formBuilder=t,this.areaService=r,this.dialogRef=a,this.snackbarService=o,this.onAddArea=new h.o,this.onEditArea=new h.o,this.areaForm=s.f,this.dialogAction="Agregar",this.action="Agregar"}ngOnInit(){this.areaForm=this.formBuilder.group({name:[null,[s.q.required]]}),"Editar"===this.dialogData.action&&(this.dialogAction="Editar",this.action="Modificar",this.areaForm.patchValue(this.dialogData.data))}handleSubmit(){"Editar"===this.dialogAction?this.edit():this.add()}add(){this.areaService.add({name:this.areaForm.value.name}).subscribe(e=>{this.dialogRef.close(),this.onAddArea.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}edit(){this.areaService.update({areaId:this.dialogData.data.areaId,name:this.areaForm.value.name}).subscribe(e=>{this.dialogRef.close(),this.onEditArea.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}delete(){this.areaService.delete({areaId:this.dialogData.data.areaId,name:this.areaForm.value.name}).subscribe(e=>{this.dialogRef.close(),this.onEditArea.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(b.a),h.Pb(s.d),h.Pb(g),h.Pb(b.h),h.Pb(f.a))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-area"]],decls:18,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar",0),h.Vb(1,"mat-toolbar-row",1),h.Vb(2,"span",2),h.Cc(3),h.Ub(),h.Ub(),h.Ub(),h.Vb(4,"mat-dialog-content",3),h.Vb(5,"form",4),h.Vb(6,"div",5),h.Vb(7,"div",6),h.Vb(8,"mat-form-field",7),h.Vb(9,"mat-label"),h.Cc(10,"Nombre"),h.Ub(),h.Qb(11,"input",8),h.Ac(12,A,2,1,"mat-error",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(13,"mat-dialog-actions",10),h.Vb(14,"button",11),h.dc("click",function(){return t.handleSubmit()}),h.Cc(15),h.Ub(),h.Vb(16,"button",12),h.Cc(17,"Cerrar"),h.Ub(),h.Ub()),2&e&&(h.Db(3),h.Ec("",t.dialogData.action," Area "),h.Db(2),h.mc("formGroup",t.areaForm),h.Db(7),h.mc("ngIf",t.areaForm.controls.name.touched&&t.areaForm.controls.name.invalid),h.Db(2),h.mc("disabled",!(t.areaForm.valid&&t.areaForm.dirty)),h.Db(1),h.Dc(t.action))},directives:[v.a,v.c,U.b,b.f,s.r,s.m,s.g,U.a,V.c,V.g,C.b,s.c,s.l,s.e,s.p,n.k,b.c,D.a,b.d,V.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),e})();var y=r("gren"),I=r("Wp6s"),F=r("Qu3c"),k=r("NFeN");function w(e,t){1&e&&(h.Vb(0,"th",15),h.Cc(1," Nombre"),h.Ub())}function E(e,t){if(1&e&&(h.Vb(0,"td",16),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.name)}}function M(e,t){1&e&&(h.Vb(0,"th",15),h.Cc(1," Acci\xf3n"),h.Ub())}function x(e,t){if(1&e){const e=h.Wb();h.Vb(0,"td",17),h.Vb(1,"button",18),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleEditAction(r)}),h.Vb(2,"mat-icon"),h.Cc(3,"edit"),h.Ub(),h.Ub(),h.Vb(4,"button",19),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleDeleteAction(r)}),h.Vb(5,"mat-icon"),h.Cc(6,"delete"),h.Ub(),h.Ub(),h.Ub()}}function P(e,t){1&e&&h.Qb(0,"tr",20)}function T(e,t){1&e&&h.Qb(0,"tr",21)}let R=(()=>{class e{constructor(e,t,r,a,o){this.areaService=e,this.ngxService=t,this.dialog=r,this.snackbarService=a,this.router=o,this.displayedColumns=["name","edit"],this.pageSizeOptions=[5,10,25,50]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.areaService.getArea().subscribe(e=>{this.ngxService.stop(),this.dataSource=new d.k(e),this.dataSource.paginator=this.paginator},e=>{var t,r;this.ngxService.stop(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLocaleLowerCase()}handleAddAction(){const e=new b.e;e.data={action:"Agregar"},e.width="850px";const t=this.dialog.open(q,e);this.router.events.subscribe(()=>{t.close()}),t.componentInstance.onAddArea.subscribe(e=>{this.tableData()})}handleEditAction(e){const t=new b.e;t.data={action:"Editar",data:e},t.width="850px";const r=this.dialog.open(q,t);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditArea.subscribe(e=>{this.tableData()})}handleDeleteAction(e){const t=new b.e;t.data={message:"Eliminar "+e.name};const r=this.dialog.open(p.a,t);r.componentInstance.onEmitStatusChange.subscribe(t=>{this.ngxService.start(),this.deleteArea(e.areaId),r.close()})}deleteArea(e){this.areaService.delete(e).subscribe(e=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(g),h.Pb(y.b),h.Pb(b.b),h.Pb(f.a),h.Pb(a.e))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-manage-area"]],viewQuery:function(e,t){if(1&e&&h.Fc(m.a,1),2&e){let e;h.rc(e=h.ec())&&(t.paginator=e.first)}},decls:27,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-card"),h.Vb(1,"b"),h.Vb(2,"span"),h.Cc(3,"Administrar Area"),h.Ub(),h.Ub(),h.Vb(4,"button",0),h.dc("click",function(){return t.handleAddAction()}),h.Cc(5,"A\xf1adir Area"),h.Ub(),h.Ub(),h.Qb(6,"hr"),h.Vb(7,"mat-card"),h.Vb(8,"mat-form-field",1),h.Vb(9,"mat-label"),h.Cc(10,"Filtrar"),h.Ub(),h.Vb(11,"input",2,3),h.dc("keyup",function(e){return t.applyFilter(e)}),h.Ub(),h.Ub(),h.Ub(),h.Qb(13,"hr"),h.Vb(14,"div",4),h.Qb(15,"mat-paginator",5,6),h.Vb(17,"table",7),h.Tb(18,8),h.Ac(19,w,2,0,"th",9),h.Ac(20,E,2,1,"td",10),h.Sb(),h.Tb(21,11),h.Ac(22,M,2,0,"th",9),h.Ac(23,x,7,0,"td",12),h.Sb(),h.Cc(24,"\n> "),h.Ac(25,P,1,0,"tr",13),h.Ac(26,T,1,0,"tr",14),h.Ub(),h.Ub()),2&e&&(h.Db(15),h.mc("pageSizeOptions",t.pageSizeOptions),h.Db(2),h.mc("dataSource",t.dataSource),h.Db(8),h.mc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),h.Db(1),h.mc("matRowDefColumns",t.displayedColumns))},directives:[I.a,D.a,V.c,V.g,C.b,m.a,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,F.a,k.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),e})(),O=(()=>{class e{constructor(e){this.httpClient=e,this.url="https://cmi.tabascoweb.com/"}add(e){return this.httpClient.post(this.url+"/equipo/add",e,{headers:(new o.e).set("Content-Type","application/json")})}update(e){return this.httpClient.patch(this.url+"/equipo/update",e,{headers:(new o.e).set("Content-Type","application/json")})}getEquipment(){return this.httpClient.get(this.url+"/equipo/get")}updateStatus(e){return this.httpClient.patch(this.url+"/equipo/updateStatus/",e,{headers:(new o.e).set("Content-Type","application/json")})}delete(e){return this.httpClient.delete(this.url+"/equipo/delete/"+e,{headers:(new o.e).set("Content-Type","application/json")})}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(o.b))},e.\u0275prov=h.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),B=(()=>{class e{constructor(e){this.httpClient=e,this.url="https://cmi.tabascoweb.com/"}add(e){return this.httpClient.post(this.url+"/type/add",e,{headers:(new o.e).set("Content-Type","application/json")})}update(e){return this.httpClient.patch(this.url+"/type/update",e,{headers:(new o.e).set("Content-Type","application/json")})}getType(){return this.httpClient.get(this.url+"/type/get")}delete(e){return this.httpClient.delete(this.url+"/type/delete/"+e,{headers:(new o.e).set("Content-Type","application/json")})}}return e.\u0275fac=function(t){return new(t||e)(h.Zb(o.b))},e.\u0275prov=h.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q=r("d3UM"),N=r("FKr1");function $(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function L(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function _(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,$,2,0,"span",9),h.Ac(2,L,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function z(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function H(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function j(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,z,2,0,"span",9),h.Ac(2,H,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function G(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function J(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function W(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,G,2,0,"span",9),h.Ac(2,J,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Z(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function X(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function K(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Z,2,0,"span",9),h.Ac(2,X,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Y(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function ee(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function te(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Y,2,0,"span",9),h.Ac(2,ee,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function re(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function ae(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function oe(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,re,2,0,"span",9),h.Ac(2,ae,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function ne(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function ie(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function se(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,ne,2,0,"span",9),h.Ac(2,ie,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function ce(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function le(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function be(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,ce,2,0,"span",9),h.Ac(2,le,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function me(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function de(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function ue(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,me,2,0,"span",9),h.Ac(2,de,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function pe(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function he(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function ge(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,pe,2,0,"span",9),h.Ac(2,he,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function fe(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function ve(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Ue(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,fe,2,0,"span",9),h.Ac(2,ve,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Ve(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function Ce(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function De(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Ve,2,0,"span",9),h.Ac(2,Ce,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Se(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function Ae(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function qe(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Se,2,0,"span",9),h.Ac(2,Ae,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function ye(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function Ie(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Fe(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,ye,2,0,"span",9),h.Ac(2,Ie,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function ke(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function we(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Ee(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,ke,2,0,"span",9),h.Ac(2,we,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Me(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function xe(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Pe(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Me,2,0,"span",9),h.Ac(2,xe,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Te(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function Re(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Oe(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Te,2,0,"span",9),h.Ac(2,Re,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function Be(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio"),h.Ub())}function Qe(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido"),h.Ub())}function Ne(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Be,2,0,"span",9),h.Ac(2,Qe,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.required),h.Db(1),h.mc("ngIf",e.equipmentForm.controls.sn.error.pattern)}}function $e(e,t){if(1&e&&(h.Vb(0,"mat-option",33),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.mc("value",e.typeId),h.Db(1),h.Dc(e.name)}}function Le(e,t){if(1&e&&(h.Vb(0,"mat-option",33),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.mc("value",e.areaId),h.Db(1),h.Dc(e.name)}}let _e=(()=>{class e{constructor(e,t,r,a,o,n,i){this.dialogData=e,this.formBuilder=t,this.equipoService=r,this.dialogRef=a,this.areaService=o,this.typeService=n,this.snackbarService=i,this.onAddEquipment=new h.o,this.onEditEquipment=new h.o,this.equipmentForm=s.f,this.dialogAction="Agregar",this.action="Agregar",this.areas=[],this.types=[]}ngOnInit(){this.equipmentForm=this.formBuilder.group({sn:[null,s.q.required],inventory:[null,s.q.required],monitor:[null,s.q.required],keyboard:[null,s.q.required],brand:[null,s.q.required],model:[null,s.q.required],processor:[null,s.q.required],generation:[null,s.q.required],ram:[null,s.q.required],hddssd:[null,s.q.required],connection:[null,s.q.required],nodetype:[null,s.q.required],bandwidth:[null,s.q.required],warranty:[null,s.q.required],antivirus:[null,s.q.required],office:[null,s.q.required],guard:[null,s.q.required],systemo:[null,s.q.required],typeId:[null,s.q.required],areaId:[null,s.q.required]}),"Editar"===this.dialogData.action&&(this.dialogAction="Editar",this.action="Modificar",this.equipmentForm.patchValue(this.dialogData.data)),this.getArea(),this.getType()}getArea(){this.areaService.getArea().subscribe(e=>{this.areas=e},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}getType(){this.typeService.getType().subscribe(e=>{this.types=e},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}handleSubmit(){"Editar"===this.dialogAction?this.edit():this.add()}add(){var e=this.equipmentForm.value,t={sn:e.sn,inventory:e.inventory,monitor:e.monitor,keyboard:e.keyboard,brand:e.brand,model:e.model,processor:e.processor,generation:e.generation,ram:e.ram,hddssd:e.hddssd,connection:e.connection,nodetype:e.nodetype,bandwidth:e.bandwidth,warranty:e.warranty,antivirus:e.antivirus,office:e.office,guard:e.guard,systemo:e.systemo,typeId:e.typeId,areaId:e.areaId};this.equipoService.add(t).subscribe(e=>{this.dialogRef.close(),this.onAddEquipment.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success"),console.log(t)},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}edit(){var e=this.equipmentForm.value;this.equipoService.update({sn:e.sn,inventory:e.inventory,monitor:e.monitor,keyboard:e.keyboard,brand:e.brand,model:e.model,processor:e.processor,generation:e.generation,ram:e.ram,hddssd:e.hddssd,connection:e.connection,nodetype:e.nodetype,bandwidth:e.bandwidth,warranty:e.warranty,antivirus:e.antivirus,office:e.office,guard:e.guard,systemo:e.systemo,typeId:e.typeId,areaId:e.areaId,equipoId:this.dialogData.data.equipoId}).subscribe(e=>{this.dialogRef.close(),this.onEditEquipment.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}delete(){this.areaService.delete({equipoId:this.dialogData.data.equipoId}).subscribe(e=>{this.dialogRef.close(),this.onEditEquipment.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(b.a),h.Pb(s.d),h.Pb(O),h.Pb(b.h),h.Pb(g),h.Pb(B),h.Pb(f.a))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-equipment"]],decls:130,vars:24,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","sn","required",""],[4,"ngIf"],["matInput","","formControlName","inventory","required",""],["matInput","","formControlName","monitor","required",""],["matInput","","formControlName","keyboard","required",""],["matInput","","formControlName","brand","required",""],["matInput","","formControlName","model","required",""],["matInput","","formControlName","processor","required",""],["matInput","","formControlName","generation","required",""],["matInput","","formControlName","ram","required",""],["matInput","","formControlName","hddssd","required",""],["matInput","","formControlName","connection","required",""],["matInput","","formControlName","nodetype","required",""],["matInput","","formControlName","bandwidth","required",""],["matInput","","formControlName","warranty","required",""],["matInput","","formControlName","antivirus","required",""],["matInput","","formControlName","office","required",""],["matInput","","formControlName","guard","required",""],["matInput","","formControlName","systemo","required",""],["formControlName","typeId"],[3,"value",4,"ngFor","ngForOf"],["formControlName","areaId"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar",0),h.Vb(1,"mat-toolbar-row",1),h.Vb(2,"span",2),h.Cc(3),h.Ub(),h.Ub(),h.Ub(),h.Vb(4,"mat-dialog-content",3),h.Vb(5,"form",4),h.Vb(6,"div",5),h.Vb(7,"div",6),h.Vb(8,"mat-form-field",7),h.Vb(9,"mat-label"),h.Cc(10,"Numero de Serie"),h.Ub(),h.Qb(11,"input",8),h.Ac(12,_,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(13,"div",6),h.Vb(14,"mat-form-field",7),h.Vb(15,"mat-label"),h.Cc(16,"Inventario"),h.Ub(),h.Qb(17,"input",10),h.Ac(18,j,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(19,"div",6),h.Vb(20,"mat-form-field",7),h.Vb(21,"mat-label"),h.Cc(22,"Monitor"),h.Ub(),h.Qb(23,"input",11),h.Ac(24,W,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(25,"div",6),h.Vb(26,"mat-form-field",7),h.Vb(27,"mat-label"),h.Cc(28,"Teclado"),h.Ub(),h.Qb(29,"input",12),h.Ac(30,K,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(31,"div",6),h.Vb(32,"mat-form-field",7),h.Vb(33,"mat-label"),h.Cc(34,"Marca"),h.Ub(),h.Qb(35,"input",13),h.Ac(36,te,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(37,"div",6),h.Vb(38,"mat-form-field",7),h.Vb(39,"mat-label"),h.Cc(40,"Modelo"),h.Ub(),h.Qb(41,"input",14),h.Ac(42,oe,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(43,"div",6),h.Vb(44,"mat-form-field",7),h.Vb(45,"mat-label"),h.Cc(46,"Procesador"),h.Ub(),h.Qb(47,"input",15),h.Ac(48,se,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(49,"div",6),h.Vb(50,"mat-form-field",7),h.Vb(51,"mat-label"),h.Cc(52,"Generacion"),h.Ub(),h.Qb(53,"input",16),h.Ac(54,be,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(55,"div",6),h.Vb(56,"mat-form-field",7),h.Vb(57,"mat-label"),h.Cc(58,"RAM "),h.Ub(),h.Qb(59,"input",17),h.Ac(60,ue,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(61,"div",6),h.Vb(62,"mat-form-field",7),h.Vb(63,"mat-label"),h.Cc(64,"HDD/SSD"),h.Ub(),h.Qb(65,"input",18),h.Ac(66,ge,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(67,"div",6),h.Vb(68,"mat-form-field",7),h.Vb(69,"mat-label"),h.Cc(70,"Conexion"),h.Ub(),h.Qb(71,"input",19),h.Ac(72,Ue,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(73,"div",6),h.Vb(74,"mat-form-field",7),h.Vb(75,"mat-label"),h.Cc(76,"Tipo de Nodo"),h.Ub(),h.Qb(77,"input",20),h.Ac(78,De,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(79,"div",6),h.Vb(80,"mat-form-field",7),h.Vb(81,"mat-label"),h.Cc(82,"Ancho de Banda"),h.Ub(),h.Qb(83,"input",21),h.Ac(84,qe,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(85,"div",6),h.Vb(86,"mat-form-field",7),h.Vb(87,"mat-label"),h.Cc(88,"Garantia"),h.Ub(),h.Qb(89,"input",22),h.Ac(90,Fe,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(91,"div",6),h.Vb(92,"mat-form-field",7),h.Vb(93,"mat-label"),h.Cc(94,"Antivirus"),h.Ub(),h.Qb(95,"input",23),h.Ac(96,Ee,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(97,"div",6),h.Vb(98,"mat-form-field",7),h.Vb(99,"mat-label"),h.Cc(100,"Version de Office"),h.Ub(),h.Qb(101,"input",24),h.Ac(102,Pe,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(103,"div",6),h.Vb(104,"mat-form-field",7),h.Vb(105,"mat-label"),h.Cc(106,"Resguardo"),h.Ub(),h.Qb(107,"input",25),h.Ac(108,Oe,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(109,"div",6),h.Vb(110,"mat-form-field",7),h.Vb(111,"mat-label"),h.Cc(112,"Sistema Operativo"),h.Ub(),h.Qb(113,"input",26),h.Ac(114,Ne,3,2,"mat-error",9),h.Ub(),h.Vb(115,"mat-form-field",7),h.Vb(116,"mat-label"),h.Cc(117,"Tipo de Equipo"),h.Ub(),h.Vb(118,"mat-select",27),h.Ac(119,$e,2,2,"mat-option",28),h.Ub(),h.Ub(),h.Vb(120,"mat-form-field",7),h.Vb(121,"mat-label"),h.Cc(122,"Area"),h.Ub(),h.Vb(123,"mat-select",29),h.Ac(124,Le,2,2,"mat-option",28),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(125,"mat-dialog-actions",30),h.Vb(126,"button",31),h.dc("click",function(){return t.handleSubmit()}),h.Cc(127),h.Ub(),h.Vb(128,"button",32),h.Cc(129,"Cerrar"),h.Ub(),h.Ub()),2&e&&(h.Db(3),h.Ec(" ",t.dialogData.action," Equipos"),h.Db(2),h.mc("formGroup",t.equipmentForm),h.Db(7),h.mc("ngIf",t.equipmentForm.controls.sn.touched&&t.equipmentForm.controls.sn.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.inventory.touched&&t.equipmentForm.controls.inventory.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.monitor.touched&&t.equipmentForm.controls.monitor.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.keyboard.touched&&t.equipmentForm.controls.keyboard.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.brand.touched&&t.equipmentForm.controls.brand.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.model.touched&&t.equipmentForm.controls.model.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.processor.touched&&t.equipmentForm.controls.processor.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.generation.touched&&t.equipmentForm.controls.generation.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.ram.touched&&t.equipmentForm.controls.ram.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.hddssd.touched&&t.equipmentForm.controls.hddssd.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.connection.touched&&t.equipmentForm.controls.connection.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.nodetype.touched&&t.equipmentForm.controls.nodetype.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.bandwidth.touched&&t.equipmentForm.controls.bandwidth.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.warranty.touched&&t.equipmentForm.controls.warranty.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.antivirus.touched&&t.equipmentForm.controls.antivirus.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.office.touched&&t.equipmentForm.controls.office.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.guard.touched&&t.equipmentForm.controls.guard.invalid),h.Db(6),h.mc("ngIf",t.equipmentForm.controls.systemo.touched&&t.equipmentForm.controls.systemo.invalid),h.Db(5),h.mc("ngForOf",t.types),h.Db(5),h.mc("ngForOf",t.areas),h.Db(2),h.mc("disabled",!(t.equipmentForm.valid&&t.equipmentForm.dirty)),h.Db(1),h.Dc(t.action))},directives:[v.a,v.c,U.b,b.f,s.r,s.m,s.g,U.a,V.c,V.g,C.b,s.c,s.l,s.e,s.p,n.k,Q.a,n.j,b.c,D.a,b.d,V.b,N.m],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),e})();var ze=r("1jcm");function He(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Serie"),h.Ub())}function je(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.sn)}}function Ge(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Inventario"),h.Ub())}function Je(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.inventory)}}function We(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Marca"),h.Ub())}function Ze(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.brand)}}function Xe(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Modelo"),h.Ub())}function Ke(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.model)}}function Ye(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Resguardo"),h.Ub())}function et(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.guard)}}function tt(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Tipo de Equipo"),h.Ub())}function rt(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.typeId)}}function at(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Area"),h.Ub())}function ot(e,t){if(1&e&&(h.Vb(0,"th",22),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.areaId)}}function nt(e,t){1&e&&(h.Vb(0,"th",21),h.Cc(1,"Acci\xf3n"),h.Ub())}function it(e,t){if(1&e){const e=h.Wb();h.Vb(0,"th",23),h.Vb(1,"button",24),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleEditAction(r)}),h.Vb(2,"mat-icon"),h.Cc(3,"edit"),h.Ub(),h.Ub(),h.Vb(4,"button",25),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleDeleteAction(r)}),h.Vb(5,"mat-icon"),h.Cc(6,"delete"),h.Ub(),h.Ub(),h.Vb(7,"mat-slide-toggle",26),h.dc("change",function(r){h.uc(e);const a=t.$implicit;return h.hc().onChange(r.checked,a.equipoId)}),h.Ub(),h.Ub()}if(2&e){const e=t.$implicit;h.Db(7),h.mc("checked",e.status)}}function st(e,t){1&e&&h.Qb(0,"tr",27)}function ct(e,t){1&e&&h.Qb(0,"tr",28)}let lt=(()=>{class e{constructor(e,t,r,a,o){this.equipoService=e,this.ngxService=t,this.dialog=r,this.snackbarService=a,this.router=o,this.displayedColumns=["sn","inventory","brand","model","guard","type","area","edit"],this.pageSizeOptions=[50,100,500,1e3]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.equipoService.getEquipment().subscribe(e=>{this.ngxService.stop(),this.dataSource=new d.k(e),this.dataSource.paginator=this.paginator},e=>{var t,r;this.ngxService.stop(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLocaleLowerCase()}handleAddAction(){const e=new b.e;e.data={action:"Agregar"},e.width="850px";const t=this.dialog.open(_e,e);this.router.events.subscribe(()=>{t.close()}),t.componentInstance.onAddEquipment.subscribe(e=>{this.tableData()})}handleEditAction(e){const t=new b.e;t.data={action:"Editar",data:e},t.width="850px";const r=this.dialog.open(_e,t);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditEquipment.subscribe(e=>{this.tableData()})}handleDeleteAction(e){const t=new b.e;t.data={message:"Eliminar "+e.sn};const r=this.dialog.open(p.a,t);r.componentInstance.onEmitStatusChange.subscribe(t=>{this.ngxService.start(),this.deleteEquipment(e.equipoId),r.close()})}deleteEquipment(e){this.equipoService.delete(e).subscribe(e=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}onChange(e,t){var r={status:e.toString(),equipoId:t};this.equipoService.updateStatus(r).subscribe(e=>{this.ngxService.stop(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(O),h.Pb(y.b),h.Pb(b.b),h.Pb(f.a),h.Pb(a.e))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-manage-equipment"]],viewQuery:function(e,t){if(1&e&&h.Fc(m.a,1),2&e){let e;h.rc(e=h.ec())&&(t.paginator=e.first)}},decls:44,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","sn"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","inventory"],["matColumnDef","brand"],["matColumnDef","model"],["matColumnDef","guard"],["matColumnDef","type"],["matColumnDef","area"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activar o Desactivar Equipo",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-card"),h.Vb(1,"b"),h.Vb(2,"span"),h.Cc(3,"Administrar Equipos"),h.Ub(),h.Ub(),h.Vb(4,"button",0),h.dc("click",function(){return t.handleAddAction()}),h.Cc(5," A\xf1adir Equipo"),h.Ub(),h.Ub(),h.Qb(6,"hr"),h.Vb(7,"mat-card"),h.Vb(8,"mat-form-field",1),h.Vb(9,"mat-label"),h.Cc(10,"Filtrar"),h.Ub(),h.Vb(11,"input",2,3),h.dc("keyup",function(e){return t.applyFilter(e)}),h.Ub(),h.Ub(),h.Ub(),h.Qb(13,"hr"),h.Vb(14,"div",4),h.Qb(15,"mat-paginator",5,6),h.Vb(17,"table",7),h.Tb(18,8),h.Ac(19,He,2,0,"th",9),h.Ac(20,je,2,1,"th",10),h.Sb(),h.Tb(21,11),h.Ac(22,Ge,2,0,"th",9),h.Ac(23,Je,2,1,"th",10),h.Sb(),h.Tb(24,12),h.Ac(25,We,2,0,"th",9),h.Ac(26,Ze,2,1,"th",10),h.Sb(),h.Tb(27,13),h.Ac(28,Xe,2,0,"th",9),h.Ac(29,Ke,2,1,"th",10),h.Sb(),h.Tb(30,14),h.Ac(31,Ye,2,0,"th",9),h.Ac(32,et,2,1,"th",10),h.Sb(),h.Tb(33,15),h.Ac(34,tt,2,0,"th",9),h.Ac(35,rt,2,1,"th",10),h.Sb(),h.Tb(36,16),h.Ac(37,at,2,0,"th",9),h.Ac(38,ot,2,1,"th",10),h.Sb(),h.Tb(39,17),h.Ac(40,nt,2,0,"th",9),h.Ac(41,it,8,1,"th",18),h.Sb(),h.Ac(42,st,1,0,"tr",19),h.Ac(43,ct,1,0,"tr",20),h.Ub(),h.Ub()),2&e&&(h.Db(15),h.mc("pageSizeOptions",t.pageSizeOptions),h.Db(2),h.mc("dataSource",t.dataSource),h.Db(25),h.mc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),h.Db(1),h.mc("matRowDefColumns",t.displayedColumns))},directives:[I.a,D.a,V.c,V.g,C.b,m.a,d.j,d.c,d.e,d.b,d.g,d.i,d.d,F.a,k.a,ze.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),e})();function bt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function mt(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,bt,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.typeForm.controls.name.errors.required)}}let dt=(()=>{class e{constructor(e,t,r,a,o){this.dialogData=e,this.formBuilder=t,this.typeService=r,this.dialogRef=a,this.snackbarService=o,this.onAddType=new h.o,this.onEditType=new h.o,this.typeForm=s.f,this.dialogAction="Agregar",this.action="Agregar"}ngOnInit(){this.typeForm=this.formBuilder.group({name:[null,[s.q.required]]}),"Editar"===this.dialogData.action&&(this.dialogAction="Editar",this.action="Modificar",this.typeForm.patchValue(this.dialogData.data))}handleSubmit(){"Editar"===this.dialogAction?this.edit():this.add()}add(){this.typeService.add({name:this.typeForm.value.name}).subscribe(e=>{this.dialogRef.close(),this.onAddType.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}edit(){this.typeService.update({typeId:this.dialogData.data.typeId,name:this.typeForm.value.name}).subscribe(e=>{this.dialogRef.close(),this.onEditType.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.dialogRef.close(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(b.a),h.Pb(s.d),h.Pb(B),h.Pb(b.h),h.Pb(f.a))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-type"]],decls:18,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxFlex","","fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar",0),h.Vb(1,"mat-toolbar-row",1),h.Vb(2,"span",2),h.Cc(3),h.Ub(),h.Ub(),h.Ub(),h.Vb(4,"mat-dialog-content",3),h.Vb(5,"form",4),h.Vb(6,"div",5),h.Vb(7,"div",6),h.Vb(8,"mat-form-field",7),h.Vb(9,"mat-label"),h.Cc(10,"Nombre"),h.Ub(),h.Qb(11,"input",8),h.Ac(12,mt,2,1,"mat-error",9),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(13,"mat-dialog-actions",10),h.Vb(14,"button",11),h.dc("click",function(){return t.handleSubmit()}),h.Cc(15),h.Ub(),h.Vb(16,"button",12),h.Cc(17,"Cerrar"),h.Ub(),h.Ub()),2&e&&(h.Db(3),h.Ec("",t.dialogData.action," Tipo de Equipos "),h.Db(2),h.mc("formGroup",t.typeForm),h.Db(7),h.mc("ngIf",t.typeForm.controls.name.touched&&t.typeForm.controls.name.invalid),h.Db(2),h.mc("disabled",!(t.typeForm.valid&&t.typeForm.dirty)),h.Db(1),h.Dc(t.action))},directives:[v.a,v.c,U.b,b.f,s.r,s.m,s.g,U.a,V.c,V.g,C.b,s.c,s.l,s.e,s.p,n.k,b.c,D.a,b.d,V.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),e})();function ut(e,t){1&e&&(h.Vb(0,"th",15),h.Cc(1," Nombre"),h.Ub())}function pt(e,t){if(1&e&&(h.Vb(0,"td",16),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.name)}}function ht(e,t){1&e&&(h.Vb(0,"th",15),h.Cc(1," Acci\xf3n"),h.Ub())}function gt(e,t){if(1&e){const e=h.Wb();h.Vb(0,"td",17),h.Vb(1,"button",18),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleEditAction(r)}),h.Vb(2,"mat-icon"),h.Cc(3,"edit"),h.Ub(),h.Ub(),h.Vb(4,"button",19),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleDeleteAction(r)}),h.Vb(5,"mat-icon"),h.Cc(6,"delete"),h.Ub(),h.Ub(),h.Ub()}}function ft(e,t){1&e&&h.Qb(0,"tr",20)}function vt(e,t){1&e&&h.Qb(0,"tr",21)}let Ut=(()=>{class e{constructor(e,t,r,a,o){this.typeService=e,this.ngxService=t,this.dialog=r,this.snackbarService=a,this.router=o,this.displayedColumns=["name","edit"],this.pageSizeOptions=[5,10,25,50]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.typeService.getType().subscribe(e=>{this.ngxService.stop(),this.dataSource=new d.k(e),this.dataSource.paginator=this.paginator},e=>{var t,r;this.ngxService.stop(),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLocaleLowerCase()}handleAddAction(){const e=new b.e;e.data={action:"Agregar"},e.width="850px";const t=this.dialog.open(dt,e);this.router.events.subscribe(()=>{t.close()}),t.componentInstance.onAddType.subscribe(e=>{this.tableData()})}handleEditAction(e){const t=new b.e;t.data={action:"Editar",data:e},t.width="850px";const r=this.dialog.open(dt,t);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditType.subscribe(e=>{this.tableData()})}handleDeleteAction(e){const t=new b.e;t.data={message:"Eliminar "+e.name};const r=this.dialog.open(p.a,t);r.componentInstance.onEmitStatusChange.subscribe(t=>{this.ngxService.start(),this.deleteType(e.typeId),r.close()})}deleteType(e){this.typeService.delete(e).subscribe(e=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(B),h.Pb(y.b),h.Pb(b.b),h.Pb(f.a),h.Pb(a.e))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-manage-type"]],viewQuery:function(e,t){if(1&e&&h.Fc(m.a,1),2&e){let e;h.rc(e=h.ec())&&(t.paginator=e.first)}},decls:27,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-card"),h.Vb(1,"b"),h.Vb(2,"span"),h.Cc(3,"Administrar Tipos de Equipos"),h.Ub(),h.Ub(),h.Vb(4,"button",0),h.dc("click",function(){return t.handleAddAction()}),h.Cc(5,"A\xf1adir Tipo de Equipo"),h.Ub(),h.Ub(),h.Qb(6,"hr"),h.Vb(7,"mat-card"),h.Vb(8,"mat-form-field",1),h.Vb(9,"mat-label"),h.Cc(10,"Filtro"),h.Ub(),h.Vb(11,"input",2,3),h.dc("keyup",function(e){return t.applyFilter(e)}),h.Ub(),h.Ub(),h.Ub(),h.Qb(13,"hr"),h.Vb(14,"div",4),h.Qb(15,"mat-paginator",5,6),h.Vb(17,"table",7),h.Tb(18,8),h.Ac(19,ut,2,0,"th",9),h.Ac(20,pt,2,1,"td",10),h.Sb(),h.Tb(21,11),h.Ac(22,ht,2,0,"th",9),h.Ac(23,gt,7,0,"td",12),h.Sb(),h.Cc(24,"\n> "),h.Ac(25,ft,1,0,"tr",13),h.Ac(26,vt,1,0,"tr",14),h.Ub(),h.Ub()),2&e&&(h.Db(15),h.mc("pageSizeOptions",t.pageSizeOptions),h.Db(2),h.mc("dataSource",t.dataSource),h.Db(8),h.mc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),h.Db(1),h.mc("matRowDefColumns",t.displayedColumns))},directives:[I.a,D.a,V.c,V.g,C.b,m.a,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,F.a,k.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),e})();var Vt=r("qfBg");function Ct(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function Dt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido."),h.Ub())}function St(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,Ct,2,0,"span",9),h.Ac(2,Dt,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.required),h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.pattern)}}function At(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function qt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido."),h.Ub())}function yt(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,At,2,0,"span",9),h.Ac(2,qt,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.required),h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.pattern)}}function It(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function Ft(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido."),h.Ub())}function kt(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,It,2,0,"span",9),h.Ac(2,Ft,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.required),h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.pattern)}}function wt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function Et(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido."),h.Ub())}function Mt(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,wt,2,0,"span",9),h.Ac(2,Et,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.required),h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.pattern)}}function xt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo es obligatorio."),h.Ub())}function Pt(e,t){1&e&&(h.Vb(0,"span"),h.Cc(1,"Este campo no es valido."),h.Ub())}function Tt(e,t){if(1&e&&(h.Vb(0,"mat-error"),h.Ac(1,xt,2,0,"span",9),h.Ac(2,Pt,2,0,"span",9),h.Ub()),2&e){const e=h.hc();h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.required),h.Db(1),h.mc("ngIf",e.userForm.controls.status.errors.pattern)}}function Rt(e,t){if(1&e&&(h.Vb(0,"mat-option",23),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.mc("value",e.areaId),h.Db(1),h.Dc(e.name)}}let Ot=(()=>{class e{constructor(e,t,r,a,o,n){this.dialogData=e,this.formBuilder=t,this.userService=r,this.dialogRef=a,this.areaService=o,this.snackbarService=n,this.onAddUser=new h.o,this.onEditUser=new h.o,this.userForm=s.f,this.dialogAction="Agregar",this.action="Agregar",this.areas=[]}ngOnInit(){this.userForm=this.formBuilder.group({name:[null,[s.q.required,s.q.pattern(u.a.nameRegex)]],email:[null,s.q.required],password:[null,s.q.required],role:[null,s.q.required],status:[null,s.q.required],areaId:[null,s.q.required]}),"Editar"===this.dialogData.action&&(this.dialogAction="Editar",this.action="Modificar",this.userForm.patchValue(this.dialogData.data)),this.getArea()}getArea(){this.areaService.getArea().subscribe(e=>{this.areas=e},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}handleSubmit(){"Editar"===this.dialogAction?this.edit():this.add()}add(){var e=this.userForm.value;this.userService.add({name:e.name,password:e.password,email:e.email,role:e.role,status:e.status,areaId:e.areaId}).subscribe(e=>{this.dialogRef.close(),this.onAddUser.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}edit(){var e=this.userForm.value;this.userService.update({userId:this.dialogData.data.userId,name:e.name,email:e.email,password:e.password,role:e.role,status:e.status,areaId:e.areaId}).subscribe(e=>{this.dialogRef.close(),this.onEditUser.emit(),this.responseMessage=e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(b.a),h.Pb(s.d),h.Pb(Vt.a),h.Pb(b.h),h.Pb(g),h.Pb(f.a))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-user"]],decls:55,vars:10,consts:[["color","primary"],["fxLayout","row"],[1,"title-center"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","fill","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","password","type","password","required",""],["formControlName","role","required",""],["value","admin"],["value","user"],["formControlName","status","required",""],["value","true"],["value","false"],["formControlName","areaId"],[3,"value",4,"ngFor","ngForOf"],["align","center"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary","mat-dialog-close",""],[3,"value"]],template:function(e,t){1&e&&(h.Vb(0,"mat-toolbar",0),h.Vb(1,"mat-toolbar-row",1),h.Vb(2,"span",2),h.Cc(3),h.Ub(),h.Ub(),h.Ub(),h.Vb(4,"mat-dialog-content",3),h.Vb(5,"form",4),h.Vb(6,"div",5),h.Vb(7,"div",6),h.Vb(8,"mat-form-field",7),h.Vb(9,"mat-label"),h.Cc(10,"Nombre"),h.Ub(),h.Qb(11,"input",8),h.Ac(12,St,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(13,"div",6),h.Vb(14,"mat-form-field",7),h.Vb(15,"mat-label"),h.Cc(16,"Correo"),h.Ub(),h.Qb(17,"input",10),h.Ac(18,yt,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(19,"div",6),h.Vb(20,"mat-form-field",7),h.Vb(21,"mat-label"),h.Cc(22,"Contrase\xf1a"),h.Ub(),h.Qb(23,"input",11),h.Ac(24,kt,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(25,"div",6),h.Vb(26,"mat-form-field",7),h.Vb(27,"mat-label"),h.Cc(28,"Rol"),h.Ub(),h.Vb(29,"mat-select",12),h.Vb(30,"mat-option",13),h.Cc(31,"Administrador"),h.Ub(),h.Vb(32,"mat-option",14),h.Cc(33,"Usuario"),h.Ub(),h.Ub(),h.Ac(34,Mt,3,2,"mat-error",9),h.Ub(),h.Ub(),h.Vb(35,"div",6),h.Vb(36,"mat-form-field",7),h.Vb(37,"mat-label"),h.Cc(38,"Status"),h.Ub(),h.Vb(39,"mat-select",15),h.Vb(40,"mat-option",16),h.Cc(41,"Activo"),h.Ub(),h.Vb(42,"mat-option",17),h.Cc(43,"No Activo"),h.Ub(),h.Ub(),h.Ac(44,Tt,3,2,"mat-error",9),h.Ub(),h.Vb(45,"mat-form-field",7),h.Vb(46,"mat-label"),h.Cc(47,"Area"),h.Ub(),h.Vb(48,"mat-select",18),h.Ac(49,Rt,2,2,"mat-option",19),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Ub(),h.Vb(50,"mat-dialog-actions",20),h.Vb(51,"button",21),h.dc("click",function(){return t.handleSubmit()}),h.Cc(52),h.Ub(),h.Vb(53,"button",22),h.Cc(54,"Cerrar"),h.Ub(),h.Ub()),2&e&&(h.Db(3),h.Ec("",t.dialogData.action," Usuario"),h.Db(2),h.mc("formGroup",t.userForm),h.Db(7),h.mc("ngIf",t.userForm.controls.name.touched&&t.userForm.controls.name.invalid),h.Db(6),h.mc("ngIf",t.userForm.controls.email.touched&&t.userForm.controls.email.invalid),h.Db(6),h.mc("ngIf",t.userForm.controls.password.touched&&t.userForm.controls.password.invalid),h.Db(10),h.mc("ngIf",t.userForm.controls.role.touched&&t.userForm.controls.role.invalid),h.Db(10),h.mc("ngIf",t.userForm.controls.status.touched&&t.userForm.controls.status.invalid),h.Db(5),h.mc("ngForOf",t.areas),h.Db(2),h.mc("disabled",!(t.userForm.valid&&t.userForm.dirty)),h.Db(1),h.Dc(t.action))},directives:[v.a,v.c,U.b,b.f,s.r,s.m,s.g,U.a,V.c,V.g,C.b,s.c,s.l,s.e,s.p,n.k,Q.a,N.m,n.j,b.c,D.a,b.d,V.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10px}.title-center[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),e})();function Bt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Nombre"),h.Ub())}function Qt(e,t){if(1&e&&(h.Vb(0,"td",20),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.name)}}function Nt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Correo"),h.Ub())}function $t(e,t){if(1&e&&(h.Vb(0,"td",20),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.email)}}function Lt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Rol"),h.Ub())}function _t(e,t){if(1&e&&(h.Vb(0,"td",20),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.role)}}function zt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Estatus"),h.Ub())}function Ht(e,t){if(1&e&&(h.Vb(0,"td",20),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.status)}}function jt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Area"),h.Ub())}function Gt(e,t){if(1&e&&(h.Vb(0,"td",20),h.Cc(1),h.Ub()),2&e){const e=t.$implicit;h.Db(1),h.Dc(e.area)}}function Jt(e,t){1&e&&(h.Vb(0,"th",19),h.Cc(1,"Acci\xf3n"),h.Ub())}function Wt(e,t){if(1&e){const e=h.Wb();h.Vb(0,"td",21),h.Vb(1,"button",22),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleEditAction(r)}),h.Vb(2,"mat-icon"),h.Cc(3,"edit"),h.Ub(),h.Ub(),h.Vb(4,"button",23),h.dc("click",function(){h.uc(e);const r=t.$implicit;return h.hc().handleDeleteAction(r)}),h.Vb(5,"mat-icon"),h.Cc(6,"delete"),h.Ub(),h.Ub(),h.Vb(7,"mat-slide-toggle",24),h.dc("change",function(r){h.uc(e);const a=t.$implicit;return h.hc().onChange(r.checked,a.userId)}),h.Ub(),h.Ub()}if(2&e){const e=t.$implicit;h.Db(7),h.mc("checked",e.status)}}function Zt(e,t){1&e&&h.Qb(0,"tr",25)}function Xt(e,t){1&e&&h.Qb(0,"tr",26)}const Kt=[{path:"equipment",component:lt,canActivate:[l.a],data:{expectedRole:["admin"]}},{path:"area",component:R,canActivate:[l.a],data:{expectedRole:["admin"]}},{path:"type",component:Ut,canActivate:[l.a],data:{expectedRole:["admin"]}},{path:"user",component:(()=>{class e{constructor(e,t,r,a,o){this.userService=e,this.ngxService=t,this.dialog=r,this.snackbarService=a,this.router=o,this.displayedColumns=["name","email","role","status","areaName","edit"],this.pageSizeOptions=[5,10,25,50]}ngOnInit(){this.ngxService.start(),this.tableData()}tableData(){this.userService.getUsers().subscribe(e=>{this.ngxService.stop(),this.dataSource=new d.k(e),this.dataSource.paginator=this.paginator},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLocaleLowerCase()}handleAddAction(){const e=new b.e;e.data={action:"Agregar"},e.width="850px";const t=this.dialog.open(Ot,e);this.router.events.subscribe(()=>{t.close()}),t.componentInstance.onAddUser.subscribe(e=>{this.tableData()})}handleEditAction(e){const t=new b.e;t.data={action:"Editar",data:e},t.width="850px";const r=this.dialog.open(Ot,t);this.router.events.subscribe(()=>{r.close()}),r.componentInstance.onEditUser.subscribe(e=>{this.tableData()})}handleDeleteAction(e){const t=new b.e;t.data={message:"Eliminar "+e.name+" "};const r=this.dialog.open(p.a,t);r.componentInstance.onEmitStatusChange.subscribe(t=>{this.ngxService.start(),this.deleteUser(e.userId),r.close()})}deleteUser(e){this.userService.delete(e).subscribe(e=>{this.ngxService.stop(),this.tableData(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"Success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}onChange(e,t){var r={status:e.toString(),userId:t};this.userService.updateStatus(r).subscribe(e=>{this.ngxService.stop(),this.responseMessage=null==e?void 0:e.message,this.snackbarService.openSnackBar(this.responseMessage,"success")},e=>{var t,r;this.ngxService.stop(),console.log(e),this.responseMessage=(null===(t=e.error)||void 0===t?void 0:t.message)?null===(r=e.error)||void 0===r?void 0:r.message:u.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,u.a.error)})}}return e.\u0275fac=function(t){return new(t||e)(h.Pb(Vt.a),h.Pb(y.b),h.Pb(b.b),h.Pb(f.a),h.Pb(a.e))},e.\u0275cmp=h.Jb({type:e,selectors:[["app-manage-user"]],viewQuery:function(e,t){if(1&e&&h.Fc(m.a,1),2&e){let e;h.rc(e=h.ec())&&(t.paginator=e.first)}},decls:38,vars:5,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","fill"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["showFirstLastButtons","",3,"pageSizeOptions"],["paginator",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","status"],["matColumnDef","areaName"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefStickyy"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activar o Desactivar Usuario",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h.Vb(0,"mat-card"),h.Vb(1,"b"),h.Vb(2,"span"),h.Cc(3,"Administrar Usuario"),h.Ub(),h.Ub(),h.Vb(4,"button",0),h.dc("click",function(){return t.handleAddAction()}),h.Cc(5,"A\xf1adir Usuario "),h.Ub(),h.Ub(),h.Qb(6,"hr"),h.Vb(7,"mat-card"),h.Vb(8,"mat-form-field",1),h.Vb(9,"mat-label"),h.Cc(10,"Filtrar"),h.Ub(),h.Vb(11,"input",2,3),h.dc("keyup",function(e){return t.applyFilter(e)}),h.Ub(),h.Ub(),h.Ub(),h.Qb(13,"hr"),h.Vb(14,"div",4),h.Qb(15,"mat-paginator",5,6),h.Vb(17,"table",7),h.Tb(18,8),h.Ac(19,Bt,2,0,"th",9),h.Ac(20,Qt,2,1,"td",10),h.Sb(),h.Tb(21,11),h.Ac(22,Nt,2,0,"th",9),h.Ac(23,$t,2,1,"td",10),h.Sb(),h.Tb(24,12),h.Ac(25,Lt,2,0,"th",9),h.Ac(26,_t,2,1,"td",10),h.Sb(),h.Tb(27,13),h.Ac(28,zt,2,0,"th",9),h.Ac(29,Ht,2,1,"td",10),h.Sb(),h.Tb(30,14),h.Ac(31,jt,2,0,"th",9),h.Ac(32,Gt,2,1,"td",10),h.Sb(),h.Tb(33,15),h.Ac(34,Jt,2,0,"th",9),h.Ac(35,Wt,8,1,"td",16),h.Sb(),h.Ac(36,Zt,1,0,"tr",17),h.Ac(37,Xt,1,0,"tr",18),h.Ub(),h.Ub()),2&e&&(h.Db(15),h.mc("pageSizeOptions",t.pageSizeOptions),h.Db(2),h.mc("dataSource",t.dataSource),h.Db(19),h.mc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefStickyy",!0),h.Db(1),h.mc("matRowDefColumns",t.displayedColumns))},directives:[I.a,D.a,V.c,V.g,C.b,m.a,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,F.a,k.a,ze.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),e})(),canActivate:[l.a],data:{expectedRole:["admin"]}}];var Yt=r("qAUw");let er=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.Nb({type:e}),e.\u0275inj=h.Mb({providers:[],imports:[[n.c,a.i.forChild(Kt),Yt.a,o.c,s.h,s.o,c.a,i.r]]}),e})()}}]);